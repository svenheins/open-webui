[{"id":"c39cb469-3a0d-415d-8879-ee57ad24d8df","userId":"46190645-cd9f-480f-976f-fc1d90f15de0","tool":{"id":"clock","name":"Alarm-Clock","meta":{"description":"Gets the current time and reminds the user to go to bed if it's too late. Timezone support!","manifest":{}},"content":"import os\nimport requests\nfrom datetime import datetime\nimport pytz\nfrom pydantic import BaseModel, Field\n\n\nclass Tools:\n    class Valves(BaseModel):\n        CLOCK_BEDTIME_HOUR: int = Field(\n            default=23,\n            description=\"The hour when the AI should start nagging about bedtime.\",\n        )\n        CLOCK_BEDTIME_MINUTE: int = Field(\n            default=0,\n            description=\"The minute when the AI should start nagging about bedtime.\",\n        )\n        SLEEP_DURATION_HOURS: int = Field(\n            default=8,\n            description=\"The number of hours of sleep before the reminder stops.\",\n        )\n        TIMEZONE: str = Field(\n            default=\"UTC\",\n            description=\"The timezone to use for current time calculations.\",\n        )\n\n    def __init__(self):\n        self.valves = self.Valves()\n\n    def get_current_time(self) -> str:\n        \"\"\"\n        Get the current time in a more human-readable format.\n        :return: The current time.\n        \"\"\"\n        timezone = pytz.timezone(self.valves.TIMEZONE)\n        now = datetime.now(timezone)\n        current_time = now.strftime(\"%H:%M:%S\") \n        current_date = now.strftime(\n            \"%A, %B %d, %Y\"\n        ) \n\n        current_hour = now.hour\n        current_minute = now.minute\n\n        bedtime_hour = self.valves.CLOCK_BEDTIME_HOUR\n        bedtime_minute = self.valves.CLOCK_BEDTIME_MINUTE\n        sleep_duration = self.valves.SLEEP_DURATION_HOURS\n\n        bedtime = now.replace(\n            hour=bedtime_hour, minute=bedtime_minute, second=0, microsecond=0\n        )\n        wake_up_time = bedtime + timedelta(hours=sleep_duration)\n\n        result = f\"Current Date is {current_date}, current time is {current_time}.\"\n\n        if now >= bedtime and now <= wake_up_time:\n            result += \". Remind the user to go to bed as it is already late.\"\n\n        return result\n"},"downloads":86,"upvotes":0,"downvotes":0,"updatedAt":1719617573,"createdAt":1719617518,"user":{"id":"46190645-cd9f-480f-976f-fc1d90f15de0","username":"toeirei","name":"","profileImageUrl":"https://www.gravatar.com/avatar/ac6f4e75fe6d8f574894c9ec73a4fe13fd8b3f6d7a1a78f15ab8d039b149c89a?d=mp","createdAt":1719098909}}]